[pytest]
# Pytest configuration for bitstream programming tests

# Minimum pytest version
minversion = 6.0

# Test discovery patterns
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Console output options
console_output_style = progress
addopts = 
    -v
    --tb=short
    --strict-markers
    --color=yes

# Logging configuration
log_cli = true
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)8s] %(message)s
log_cli_date_format = %Y-%m-%d %H:%M:%S

# File logging (creates detailed log file)
log_file = pytest_output.log
log_file_level = DEBUG
log_file_format = %(asctime)s [%(levelname)8s] [%(filename)s:%(lineno)d] %(message)s
log_file_date_format = %Y-%m-%d %H:%M:%S

# Capture settings
# -s flag to see real-time output, or these settings:
# capture = no  # Uncomment to disable output capturing (shows everything in real-time)

# Timeout for tests (prevents hanging)
timeout = 7200  # 2 hour max per test (bitstream programming is slow)

# Markers
markers =
    docker: tests that require Docker container
    hardware: tests that require physical Hololink device  
    slow: tests that take significant time (>5 minutes)
    quick: fast tests that complete in <1 minute

# Test execution order
# Run quick tests first
testpaths = .

# Parallel execution (optional - install pytest-xdist)
# addopts = -n auto  # Uncomment to run tests in parallel
